# kotlin-convenience-store-precourse

---

## 이번 프리코스 목표
- 요구사항 만족
- 문자열 포맷 사용

## 요구사항 Check
### 프로그래밍 요구사항
- [ ] indent 2까지만 허용
- [ ] else 지양
- [ ] enum class 사용
- [ ] 함수 길이 10 라인 이내
- [ ] 입출력 클래스 별도 구현 (InputView, OutputView)

### 기능 요구사항
- [ ] 영수증 출력 후 추가 구매 or 종료 선택 가능
- [ ] 잘못된 값을 입력할 경우 `IllegalArgumentException` 발생 후 재입력 받기
- [ ] 명확한 `Exception` 유형 처리

#### 재고 관리
- [ ] 재고 수량을 고려하여 결제 가능 여부 확인
- [ ] 구매할 때마다 재고에서 차감
- [ ] 다음 구매에서 재고가 반영

#### 프로모션 할인
- [ ] 오늘 날짜가 프로모션 기간 내 포함된 경우만 할인
- [ ] N개 구매시 1개 무료 증정(Buy N Get 1 Free)
- [ ] 동일 상품에 여러 프로모션 적용 X
- [ ] 프로모션 재고 우선 차감, 프로모션 재고 부족한 경우 일반 재고 사용
- [ ] 프로모션 상품을 고객이 적게 가져온 경우, 혜택 안내
- [ ] 프로모션 재고가 부족해서 혜택 없이 결제할 경우, 그 수량에 대해 정가 결제 안내

#### 멤버십 할인
- [ ] 프로모션 미적용 금액의 30% 할인
- [ ] 프로모션 적용 후 남은 금액에 멤버십 할인
- [ ] 최대 한도 8천원

#### 영수증 출력
- [ ] 정렬

## 기능
- InputView
  - 구매할 상품, 수량 입력
  - 프로모션 증정 받을 수 있는 상품 추가할지 여부
  - 재고 부족하여 혜택 없이 결제할 때 정가로 결제할지 여부
  - 멤버십 할인 적용 여부
  - 추가 구매 여부
- OutputView
  - 환영 & 재고 출력
  - 영수증 출력
- Validator
  - 구매할 상품 문자열 유효성 검사
  - 상품명 존재 여부 검사
  - 상품 개수 정수 검사
  - Y\N 문자열 유효성 검사
- Service
  - 구매
    - 상품 탐색
    - 상품 구매
      - 프로모션 여부 확인
      - 프로모션 가능 확인
      - 프로모션 불가능일시 결제 여부 확인
      - 멤버십 할인 적용 확인
  - 재고 업데이트
  - 영수증 발행
## 모델
- data class Product
  - 이름
  - 가격
  - 재고
  - 프로모션 유형
- data class Promotion
  - 이름
  - 구매 개수
  - 증정 개수
  - 시작 날짜
  - 종료 날짜

## 테스트